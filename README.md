# MongoDB –ò–º–ø–æ—Ä—Ç & –≠–∫—Å–ø–æ—Ä—Ç –¢—É—Å–ª–∞–≥—á –°–∫—Ä–∏–ø—Ç“Ø“Ø–¥

–≠–Ω—ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–¥ [`fzf`](https://github.com/junegunn/fzf) –∞—à–∏–≥–ª–∞–Ω –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ –±–∞–π–¥–ª–∞–∞—Ä MongoDB ”©–≥”©–≥–¥”©–ª –∏–º–ø–æ—Ä—Ç–ª–æ—Ö –±–æ–ª–æ–Ω —ç–∫—Å–ø–æ—Ä—Ç–ª–æ—Ö “Ø–π–ª —è–≤—Ü—ã–≥ —Ö—è–ª–±–∞—Ä—á–ª–∞—Ö —Ö–æ—ë—Ä Bash —Å–∫—Ä–∏–ø—Ç –±–∞–≥—Ç—Å–∞–Ω –±–æ–ª–Ω–æ.

## üìú –°–∫—Ä–∏–ø—Ç“Ø“Ø–¥

---

### 1. `mongo_import_helper.sh`
`.json` —Ñ–∞–π–ª—É—É–¥—ã–≥ MongoDB —Ä“Ø“Ø –∏–º–ø–æ—Ä—Ç–ª–æ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ —Ç—É—Å–ª–∞–≥—á.

#### –ë–æ–ª–æ–º–∂—É—É–¥
- `.json` —Ñ–∞–π–ª—ã–≥ —Å–æ–Ω–≥–æ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ —Ñ–∞–π–ª —Å–æ–Ω–≥–æ–≥—á (`fzf`).

  ![–§–∞–π–ª —Å–æ–Ω–≥–æ–≥—á –¥—ç–ª–≥—ç—Ü–∏–π–Ω –∑—É—Ä–∞–≥](screenshots/dumpfile_selection.png)

- –§–∞–π–ª—ã–Ω –Ω—ç—Ä –¥—ç—ç—Ä “Ø–Ω–¥—ç—Å–ª—ç–Ω –∞–Ω—Ö–¥–∞–≥—á ”©–≥”©–≥–¥–ª–∏–π–Ω —Å–∞–Ω –±–æ–ª–æ–Ω —Ü—É–≥–ª—É—É–ª–≥—ã–Ω –Ω—ç—Ä–∏–π–≥ –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä —Å–∞–Ω–∞–ª –±–æ–ª–≥–æ–Ω–æ:
  - –•—ç–ª–±—ç—Ä: `dbname.collection.json` ‚Üí ”®–≥”©–≥–¥–ª–∏–π–Ω —Å–∞–Ω = `dbname`, –¶—É–≥–ª—É—É–ª–≥–∞ = `collection`
  - –•—ç–ª–±—ç—Ä: `collection.json` ‚Üí ”®–≥”©–≥–¥–ª–∏–π–Ω —Å–∞–Ω —Ö–æ–æ—Å–æ–Ω (–¥–∞—Ä–∞–∞ –Ω—å —Å–æ–Ω–≥–æ–Ω–æ), –¶—É–≥–ª—É—É–ª–≥–∞ = `collection`
- MongoDB –¥–æ—Ç–æ—Ä—Ö –±–∞–π–≥–∞–∞ ”©–≥”©–≥–¥–ª–∏–π–Ω —Å–∞–Ω –±–æ–ª–æ–Ω —Ü—É–≥–ª—É—É–ª–≥—ã–≥ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ –±–∞–π–¥–ª–∞–∞—Ä —Å–æ–Ω–≥–æ—Ö.

  ![–§–∞–π–ª —Å–æ–Ω–≥–æ–≥—á –¥—ç–ª–≥—ç—Ü–∏–π–Ω –∑—É—Ä–∞–≥](screenshots/col_selection.png)

- –ò–º–ø–æ—Ä—Ç–ª–æ—Ö–æ–æ—Å ”©–º–Ω”© –±–∞–π–≥–∞–∞ —Ü—É–≥–ª—É—É–ª–≥—ã–≥ —É—Å—Ç–≥–∞—Ö —ç—Å—ç—Ö–∏–π–≥ —Å–æ–Ω–≥–æ—Ö –±–æ–ª–æ–º–∂—Ç–æ–π.
- `--jsonArray` —Ç–æ—Ö–∏—Ä–≥–æ–æ—Ç–æ–π `mongoimport` –∞—à–∏–≥–ª–∞–Ω ”©–≥”©–≥–¥–ª–∏–π–≥ –∏–º–ø–æ—Ä—Ç–ª–æ–Ω–æ.
- –ò–º–ø–æ—Ä—Ç —Ö–∏–π—Å–Ω–∏–π –¥–∞—Ä–∞–∞ –Ω–∏–π—Ç –±–∏—á–ª—ç–≥–∏–π–Ω —Ç–æ–æ–≥ —Ö–∞—Ä—É—É–ª–Ω–∞.

#### –ê—à–∏–≥–ª–∞—Ö –∑–∞–∞–≤–∞—Ä
```bash
./mongo_import_helper.sh
```

### 2. `mongo_exporter.sh`
MongoDB-–∏–π–Ω ”©–≥”©–≥–¥–ª–∏–π–Ω —Å–∞–Ω —ç—Å–≤—ç–ª —Ç–æ–¥–æ—Ä—Ö–æ–π —Ü—É–≥–ª—É—É–ª–≥—ã–≥ —ç–∫—Å–ø–æ—Ä—Ç–ª–æ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ —Ç—É—Å–ª–∞–≥—á.

#### –ë–æ–ª–æ–º–∂—É—É–¥
- `fzf` –∞—à–∏–≥–ª–∞–Ω ”©–≥”©–≥–¥–ª–∏–π–Ω —Å–∞–Ω–≥ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ –±–∞–π–¥–ª–∞–∞—Ä —Å–æ–Ω–≥–æ—Ö.
- –ë“Ø—Ö ”©–≥”©–≥–¥–ª–∏–π–Ω —Å–∞–Ω —ç—Å–≤—ç–ª –∑”©–≤—Ö”©–Ω –Ω—ç–≥ —Ü—É–≥–ª—É—É–ª–≥—ã–≥ —Å–æ–Ω–≥–æ–Ω —ç–∫—Å–ø–æ—Ä—Ç–ª–æ—Ö.
- –≠–∫—Å–ø–æ—Ä—Ç—ã–Ω —Ñ–∞–π–ª—É—É–¥—ã–≥ —Ü–∞–≥–∏–π–Ω —Ç—ç–º–¥—ç–≥–ª—ç–≥—ç—ç—Ç—ç–π —Ö–∞–≤—Ç—Å–∞–Ω–¥ –¥–∞—Ä–∞–∞—Ö —Ö—ç–ª–±—ç—Ä—ç—ç—Ä —Ö–∞–¥–≥–∞–ª–Ω–∞:
  - ”®–≥”©–≥–¥–ª–∏–π–Ω —Å–∞–Ω: `./dump-<dbname>-<timestamp>/`
  - –¶—É–≥–ª—É—É–ª–≥–∞: `./dump-<dbname>-<collection>-<timestamp>/`
- `mongodump` –∞—à–∏–≥–ª–∞–Ω BSON —Ñ–æ—Ä–º–∞—Ç—Ç–∞–π–≥–∞–∞—Ä —ç–∫—Å–ø–æ—Ä—Ç —Ö–∏–π–Ω—ç.

  ![–§–∞–π–ª —Å–æ–Ω–≥–æ–≥—á –¥—ç–ª–≥—ç—Ü–∏–π–Ω –∑—É—Ä–∞–≥](screenshots/col_selection.png)


#### –ê—à–∏–≥–ª–∞—Ö –∑–∞–∞–≤–∞—Ä
```bash
./mongo_exporter.sh
```


## ‚öô –®–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π —Ö—ç—Ä—ç–≥—Å–ª“Ø“Ø–¥ —Å—É—É–ª–≥–∞—Å–∞–Ω —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö
```bash
command -v mongosh mongoimport mongodump fzf
```

### üõ† –°–∏—Å—Ç–µ–º–¥ —Ö—ç—Ä—ç–≥—Å–ª“Ø“Ø–¥–∏–π–≥ —Å—É—É–ª–≥–∞—Ö

–°–∫—Ä–∏–ø—Ç“Ø“Ø–¥–∏–π–≥ –∞–∂–∏–ª–ª—É—É–ª–∞—Ö—ã–Ω —Ç—É–ª–¥ –¥–æ–æ—Ä—Ö —Ö—ç—Ä—ç–≥—Å–ª“Ø“Ø–¥ —Ç–∞–Ω—ã —Å–∏—Å—Ç–µ–º–¥ —Å—É—É—Å–∞–Ω –±–∞–π—Ö —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π:

- `mongosh` ‚Äì MongoDB Shell, ”©–≥”©–≥–¥–ª–∏–π–Ω —Å–∞–Ω—Ç–∞–π —Ö–æ–ª–±–æ–≥–¥–æ—Ö–æ–¥ –∞—à–∏–≥–ª–∞–Ω–∞.
- `mongoimport` ‚Äì JSON —Ñ–∞–π–ª—ã–≥ MongoDB —Ä“Ø“Ø –∏–º–ø–æ—Ä—Ç–ª–æ—Ö–æ–¥ –∞—à–∏–≥–ª–∞–Ω–∞.
- `mongodump` ‚Äì MongoDB ”©–≥”©–≥–¥–ª–∏–π–≥ BSON —Ñ–æ—Ä–º–∞—Ç—Ç–∞–π —ç–∫—Å–ø–æ—Ä—Ç–ª–æ—Ö–æ–¥ –∞—à–∏–≥–ª–∞–Ω–∞.
- `fzf` ‚Äì –ö–æ–º–∞–Ω–¥—ã–Ω –º”©—Ä”©–Ω–¥ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ —Ö–∞–π–ª—Ç, —Å–æ–Ω–≥–æ–ª—Ç —Ö–∏–π—Ö —Ö—ç—Ä—ç–≥—Å—ç–ª.

#### Ubuntu / Debian
```bash
sudo apt update
sudo apt install -y mongodb-clients mongodb-database-tools fzf
```


#### Arch Linux
```bash
sudo pacman -Syu mongodb-tools fzf
```


#### macOS (Homebrew –∞—à–∏–≥–ª–∞–Ω)
```bash
sudo pacman -Syu mongodb-tools fzf
```





